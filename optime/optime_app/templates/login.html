{% extends "auth_base.html" %}

{% block title %}
Sign In
{% endblock %}

{% block type %}
Sign In
{% endblock %}

{% block notification %}
Our services require access to your location data, we promise to keep it safe.
{% endblock %}

{% block form %}

<noscript>This web page requires JavaScript.
    <a href="http://enable-javascript.com">Click here for information on how to enable JavaScript</a>
</noscript>
<form class="form-signin" method="post" action="{{ form_action }}" id="login_form">
  <input type="hidden" id="lat" name="lat" value="">
  <input type="hidden" id="lon" name="lon" value="">
  <label for="inputEmail" class="sr-only">Email</label>
  <input type="email" id="inputEmail" name="email" class="form-control mb-2" placeholder="Email" required autofocus>
  <label for="inputPassword" class="sr-only">Password</label>
  <input type="password" id="inputPassword" name="password" class="form-control mb-2" placeholder="Password" required>
  <button class="btn btn-primary" type="button" onclick="waitForLocation()">
    <span id="loader" class="spinner-grow spinner-grow-sm" role="status" aria-hidden="true" hidden></span>
    <span id="wait_msg">Sign In</span>
  </button>
  <!-- <p id="wait_msg" hidden>Waiting until location is received...</p> -->
</form>
<script>
getLocation();
</script>
{% endblock %}

{% block redirect %}
Don't have an account? <a href="{{ url_for('register') }}" style="text-decoration: none;">Register</a>
{% endblock %}
